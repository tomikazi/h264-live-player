<html>
<head>
    <title>Pan &amp Tilt Camera</title>

    <script type="text/javascript" src="//code.jquery.com/jquery-1.12.4.min.js"></script>
    <script type="text/javascript" src="/camera/http-live-player.js">;</script>
    <script type="text/javascript" charset="utf-8">
        $(document).ready(function () {
            var canvas = $('#view')[0];

            let port = location.port ? parseInt(location.port) : (location.protocol === 'https:' ? 443 : 80);
            let protocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            var uri = protocol + '//' + location.hostname + ':' + port;

            var wsavc = new WSAvcPlayer(canvas, "webgl", 1, 35);
            wsavc.connect(uri);

            function startStream() {
                wsavc.playStream();
            }

            wsavc.on('connected', setTimeout(startStream, 500));
        });
    </script>
</head>
<body>
<canvas id="view"/>
</body>
</html>
